<?xml version="1.0" encoding="UTF-8"?>

<atlassian-plugin key="${atlassian.plugin.key}" name="${project.name}" plugins-version="2"> 
  <plugin-info> 
    <description>${project.description}</description>  
    <version>${project.version}</version>  
    <vendor name="${project.organization.name}" url="${project.organization.url}"/>  
  </plugin-info>
  <resource type="i18n" name="i18n" location="jira-react-atlaskit"/>
  <customfield-type name="SR Vendors API Example" i18n-name-key="sr-vendors-api-example.name" key="sr-vendors-api-example" class="com.scriptrunnerhq.CustomField">
    <description key="sr-vendors-api-example.description"/>
    <resource name="view" type="velocity" location="/templates/view.vm"/>
    <resource name="edit" type="velocity" location="/templates/edit.vm"/>
  </customfield-type>
  <customfield-type name="SR Vendors API Select Example" i18n-name-key="sr-vendors-api-select-example.name" key="sr-vendors-api-select-example" class="com.scriptrunnerhq.CustomField">
    <description key="sr-vendors-api-select-example.description"/>
    <resource name="view" type="velocity" location="/templates/view.vm"/>
    <resource name="edit" type="velocity" location="/templates/select-edit.vm"/>
  </customfield-type>

  <!-- WMPR Requests REST API -->
  <rest name="WMPR Requests REST" key="wmpr-requests-rest" path="/wmpr-requests" version="1.0">
    <description>REST API for WMPR requests data</description>
  </rest>

  <!-- Web Resource for the Portal Footer -->
  <web-resource key="wmpr-portal-footer-resources" name="WMPR Portal Footer Resources">
    <description>Resources for WMPR portal footer component</description>
    <resource type="download" name="bundled.wmprPortalFooter.js" location="/frontend/bundled.wmprPortalFooter.js"/>
    <resource type="download" name="wmpr-portal-footer.css" location="/css/wmpr-portal-footer.css"/>
    <dependency>com.atlassian.auiplugin:ajs</dependency>
    <dependency>com.atlassian.plugins.jquery:jquery</dependency>
    <context>servicedesk.portal</context>
  </web-resource>

  <!-- Service Desk Portal Footer Module -->
  <web-panel key="wmpr-portal-footer" name="WMPR Requests Table" location="servicedesk.portal.footer" weight="10">
    <description>Displays recent WMPR requests in the portal footer</description>
    <resource name="view" type="static" location="/templates/wmpr-portal-footer.vm"/>
  </web-panel>

</atlassian-plugin>
